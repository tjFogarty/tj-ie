---
layout: layouts/base.njk
templateClass: tmpl-post
---

<article>
  <div class="c-hero">
    <div class="o-wrapper">
      <div class="c-hero__content">
        <h1 class="c-hero__title">
          <span class="c-hero__prompt" aria-hidden="true">></span>{{
          title }}
        </h1>
      </div>
    </div>
  </div>
  <div class="o-wrapper {% if coverPreview %} cube-wrapper {% endif %}">
    <div class="c-post">
      <div class="c-content">
        {% if date %}
          <time class="c-post__date" datetime="{{ date | htmlDateString }}">
            {{ date | readableDate }}
          </time>
        {% endif %}
        {{ content | safe }}
        {% for tag in tags %}
          {%- if
            collections.tagList.indexOf(tag) != -1 -%}
            {% set tagUrl %}
              /tags/{{ tag }}/
            {% endset %}
            <a href="{{ tagUrl | url }}"
              class="c-tag"
              aria-label="See all {{ tag }} posts">{{ tag }}</a>
          {%- endif -%}
        {% endfor %}
      </div>
    </div>
    {% if coverPreview %}


      <div class="cubes" aria-hidden="true">
        {% set cols = 12 %}
        {% set rows = 8 %}
        {% for row in range(0, rows) %}
          {% for col in range(0, cols) %}
            {% set topValue = random(50, 500) %}
            <div class="cube"
                style="--i: {{ loop.index }}; --row: {{ row }}; --col: {{ col }}; --top: {{ topValue }}px;"
                data-position="{{ row }}-{{ col }}"></div>
          {% endfor %}
        {% endfor %}
      </div>
    {% endif %}

  </div>
</article>

{% if coverPreview %}
<style>
  :root {
    --cover-preview: url('/assets/images/{{ coverPreview | url }}');
    --cube-size: 40px;
    --cube-gap: 1px;
    --grid-cols: 12;
    --grid-rows: 8;
  }
</style>
<script src="/assets/js/cubes.js" defer></script>
{% endif %}
